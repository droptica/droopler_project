{"version":3,"file":"/components/media-oembed-video/media-oembed-video.js","mappings":"CAKA,SAAWA,EAAGC,GAEZ,aAYA,SAASC,EAAsBC,EAAQC,GAOrCC,KAAKF,OAASA,EAOdE,KAAKC,SAAWH,EAAOI,SAOvBF,KAAKG,YAAcC,WAAWN,EAAOO,KAAK,iBAG1CL,KAAKM,OACP,CAKAT,EAAsBU,UAAUC,aAAe,WAC7C,IAAIC,EACKT,KAAKC,SAASS,aADnBD,EAEMT,KAAKC,SAASU,cAGpBC,EAAkB,CACpBC,MAAQJ,EAA0B,KAClCK,OAAQL,EAA0BT,KAAKG,YAAc,MAInDY,SAASH,EAAgBE,QAAUL,IACrCG,EAAkB,CAChBC,MAAQJ,EAA2BT,KAAKG,YAAc,KACtDW,OAAQL,EAA2B,OAIvCT,KAAKF,OAAOkB,IAAIJ,EAClB,EAKAf,EAAsBU,UAAUD,MAAQ,WACtC,IAAIW,EAAOjB,KAEXA,KAAKQ,eACLb,EAAEuB,QAAQC,QAAO,WACfF,EAAKT,cACP,GACF,EASAX,EAAsBuB,gBAAkB,WACtC,OAAO,IAAIvB,EAAsBF,EAAEK,MACrC,EAEAL,EAAE0B,GAAGC,sBAAwBzB,EAAsBuB,gBAOnDxB,EAAO2B,UAAUC,yBAA2B,CAC1CC,OAAQ,SAAUC,GAChB/B,EAAE,4BAA6B+B,GAASC,MAAK,WAC3ChC,EAAEK,MAAMsB,uBACV,GACF,EAGH,CAxGD,CAwGGM,OAAQhC","sources":["webpack://Droopler_theme/./src/components/media-oembed-video/media-oembed-video.js"],"sourcesContent":["/**\n * @file\n * Behaviors for embed video.\n */\n\n(function ($, Drupal) {\n\n  'use strict';\n\n  /**\n   * DMediaResponsiveVideo 'class'.\n   *\n   * @param $video\n   *   Video element.\n   * @param settings\n   *   Object with settings to override default with.\n   *\n   * @constructor\n   */\n  function DMediaResponsiveVideo($video, settings) {\n\n    /**\n     * Video object.\n     *\n     * @type {jQuery}\n     */\n    this.$video = $video;\n\n    /**\n     * Video object wrapper.\n     *\n     * @type {jQuery}\n     */\n    this.$wrapper = $video.parent();\n\n    /**\n     * The aspect ratio of this video.\n     *\n     * @type {number}\n     */\n    this.aspectRatio = parseFloat($video.data('aspect-ratio'));\n\n    // Init.\n    this.cover();\n  }\n\n  /**\n   * Set video size bases on parent and video aspect ratio.\n   */\n  DMediaResponsiveVideo.prototype.setVideoSize = function () {\n    var wrapperDimensions = {\n      width: this.$wrapper.outerWidth(),\n      height: this.$wrapper.outerHeight(),\n    };\n\n    var videoDimensions = {\n      width:  wrapperDimensions.width + 'px',\n      height: wrapperDimensions.width * this.aspectRatio + 'px',\n    };\n\n    // The case where the wrapper is higher than video.\n    if (parseInt(videoDimensions.height) < wrapperDimensions.height) {\n      videoDimensions = {\n        width:  wrapperDimensions.height / this.aspectRatio + 'px',\n        height: wrapperDimensions.height + 'px',\n      };\n    }\n\n    this.$video.css(videoDimensions);\n  };\n\n  /**\n   * Make video cover the wrapper.\n   */\n  DMediaResponsiveVideo.prototype.cover = function () {\n    var self = this;\n\n    this.setVideoSize();\n    $(window).resize(function () {\n      self.setVideoSize();\n    });\n  };\n\n  /**\n   * A jQuery interface.\n   *\n   * @param settings\n   *\n   * @returns {jQuery}\n   */\n  DMediaResponsiveVideo.jQueryInterface = function () {\n    return new DMediaResponsiveVideo($(this));\n  };\n\n  $.fn.dMediaResponsiveVideo = DMediaResponsiveVideo.jQueryInterface;\n\n  /**\n   * Drupal behaviors for cover embed video..\n   *\n   * @type {{attach: Drupal.behaviors.d_media_responsive_video.attach}}\n   */\n  Drupal.behaviors.d_media_responsive_video = {\n    attach: function (context) {\n      $('iframe.video-embed--cover', context).each(function () {\n        $(this).dMediaResponsiveVideo();\n      });\n    }\n  };\n\n})(jQuery, Drupal);\n"],"names":["$","Drupal","DMediaResponsiveVideo","$video","settings","this","$wrapper","parent","aspectRatio","parseFloat","data","cover","prototype","setVideoSize","wrapperDimensions","outerWidth","outerHeight","videoDimensions","width","height","parseInt","css","self","window","resize","jQueryInterface","fn","dMediaResponsiveVideo","behaviors","d_media_responsive_video","attach","context","each","jQuery"],"sourceRoot":""}