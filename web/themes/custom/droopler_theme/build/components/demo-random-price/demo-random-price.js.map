{"version":3,"file":"/components/demo-random-price/demo-random-price.js","mappings":"CAAA,SAAWA,EAAGC,GACZ,aAOAA,EAAOC,UAAUC,oBAAsB,CACrCC,OAAQ,SAAUC,EAASC,GACiB,IAAtCN,EAAE,eAAgBK,GAASE,QAC7BC,aAAY,WACV,IAAIC,IAAW,IAAOC,KAAKC,MAAsB,IAAhBD,KAAKE,WAAoB,KAAKC,QAAQ,GACnEC,EAAaC,KAAKC,MAAQ,IAAQN,KAAKC,MAAuB,GAAhBD,KAAKE,SAAgB,GAAK,MACxEK,EAAS,EAEb,GAAIC,aAAaC,QAAQ,SAAU,CACjC,IAAIC,EAAWF,aAAaC,QAAQ,SACpCF,EAASP,KAAKW,MAA8B,KAArBZ,EAASW,GAAmBA,EAAY,KAAO,GACxE,CACAF,aAAaI,QAAQ,QAASb,GAE9Bc,OAAOC,SAASf,EAAQQ,EAAQH,EAAW,MAC7C,GAAG,IAEP,EAGH,CA5BD,CA4BGW,OAAQxB","sources":["webpack://Droopler_theme/./src/components/demo-random-price/demo-random-price.js"],"sourcesContent":["(function ($, Drupal) {\n  'use strict';\n\n  /**\n   * Generate random prices and values of change (percentage) every 5 sec and pass optional css class\n   * to run global function setPrice() which displays those values\n   * in black stripe in d_p_single_text_block paragraphs that contain modifier class \"with-price\"\n   */\n  Drupal.behaviors.d_demo_random_price = {\n    attach: function (context, settings) {\n      if ($('.price-block', context).length !== 0) {\n        setInterval(function () {\n          let number = ((2000 + Math.floor(Math.random() * 1000)) / 100).toFixed(2);\n          let timestamp = (Date.now() / 1000) - Math.floor( Math.random() * 31 * 24 * 3600);\n          let change = 0;\n\n          if (localStorage.getItem('price')) {\n            let oldPrice = localStorage.getItem('price');\n            change = Math.round((((number - oldPrice) * 100) / oldPrice) * 100) / 100;\n          }\n          localStorage.setItem('price', number);\n\n          window.setPrice(number, change, timestamp, 'EUR');\n        }, 5000);\n      }\n    }\n  };\n\n})(jQuery, Drupal);\n"],"names":["$","Drupal","behaviors","d_demo_random_price","attach","context","settings","length","setInterval","number","Math","floor","random","toFixed","timestamp","Date","now","change","localStorage","getItem","oldPrice","round","setItem","window","setPrice","jQuery"],"sourceRoot":""}