{"version":3,"file":"/components/tiles-gallery/tiles-gallery.js","mappings":"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","sources":["webpack://Droopler_theme/./src/components/tiles-gallery/tiles-gallery.js"],"sourcesContent":["(function ($, Drupal) {\n\n  'use strict'\n\n  /**\n   * TilesGallery 'class'.\n   *\n   * @param {jQuery} $wrapper\n   *   Main wrapper of tiles gallery..\n   * @param {object} settings\n   *   Object with settings to override default with.\n   *\n   * @constructor\n   */\n  function TilesGallery($wrapper, settings) {\n    /**\n     * Default settings.\n     */\n    this.defaultSettings = {\n      itemSelector: '.tiles-gallery-item',\n      sizerSelector: '.tiles-gallery__sizer',\n      parentSelector: '.tiles-gallery-parent',\n      captionSelector: '.tiles-gallery-item__caption',\n      captionTitleSelector: '.tiles-gallery-item__caption-title',\n      captionSubtitleSelector: '.tiles-gallery-item__caption-subtitle',\n      videoSelector: '.video-embed',\n      standardImageSelector: '.tiles-gallery-item--standard img',\n    }\n\n    /**\n     * Apply custom settings.\n     *\n     * @type {object}\n     */\n    this.settings = $.extend(true, this.defaultSettings, settings || {});\n\n    /**\n     * Main wrapper.\n     *\n     * @type {jQuery}\n     */\n    this.$wrapper = $wrapper;\n\n    /**\n     * Parent item.\n     *\n     * @type {jQuery}\n     */\n    this.$parent  = this.$wrapper.closest(this.settings.parentSelector);\n\n    /**\n     * Item with masonry initialized.\n     *\n     * @type {jQuery}\n     */\n    this.$masonry = null;\n\n    this.initMasonry();\n    this.prepareTilesCaptions();\n  }\n\n  /**\n   * Init masonry.\n   */\n  TilesGallery.prototype.initMasonry = function () {\n    this.$masonry = this.$wrapper.masonry({\n      itemSelector: this.settings.itemSelector,\n      columnWidth: this.settings.sizerSelector,\n      percentPosition: true,\n    });\n\n    this.bindMasonryEvents();\n\n    this.$masonry.masonry('layout');\n  };\n\n  /**\n   * Bind masonry events.\n   */\n  TilesGallery.prototype.bindMasonryEvents = function () {\n    const self = this;\n\n    this.$masonry.on('layoutComplete', function () {\n      self.$parent.css('min-height', self.$wrapper.height());\n\n      self.resizeVideos();\n    });\n  };\n\n  /**\n   * Resize videos.\n   */\n  TilesGallery.prototype.resizeVideos = function () {\n    const $videos = this.$wrapper.find(this.settings.videoSelector);\n    const imageHeight = this.$wrapper.find(this.settings.standardImageSelector).height();\n\n    $videos.each(function () {\n      $(this).css('height', imageHeight + 'px');\n    });\n  };\n\n  /**\n   * Prepare tiles captions.\n   */\n  TilesGallery.prototype.prepareTilesCaptions = function () {\n    const self = this;\n\n    this.$wrapper.find(this.settings.itemSelector).each(function () {\n      const $image = $(this).find('img');\n\n      if ($image.length == 0) {\n        $(this).find(self.settings.captionSelector).remove();\n\n        return;\n      }\n\n      let [title, subtitle] = $image.attr('alt').split('/', 2);\n\n      if (title !== undefined) {\n        $(this).find(self.settings.captionTitleSelector).text(title);\n      }\n\n      if (subtitle !== undefined) {\n        $(this).find(self.settings.captionSubtitleSelector).text(subtitle);\n      }\n    });\n  };\n\n  /**\n   * A jQuery interface.\n   *\n   * @param {object} settings\n   *   Object with settings to override defaults with.\n   *\n   * @returns {jQuery}\n   */\n  TilesGallery.jQueryInterface = function (settings) {\n    return this.each(function () {\n      new TilesGallery($(this), settings);\n    });\n  };\n\n  $.fn.tilesGallery = TilesGallery.jQueryInterface;\n\n  /**\n   * Main behavior for tiles gallery.\n   */\n  Drupal.behaviors.tilesGallery = {\n    attach: function (context) {\n      $(once('tiles-gallery', '.tiles-gallery', context)).tilesGallery();\n    }\n  };\n\n})(jQuery, Drupal);\n"],"names":["$","Drupal","TilesGallery","$wrapper","settings","defaultSettings","itemSelector","sizerSelector","parentSelector","captionSelector","captionTitleSelector","captionSubtitleSelector","videoSelector","standardImageSelector","extend","$parent","closest","$masonry","initMasonry","prepareTilesCaptions","prototype","masonry","columnWidth","percentPosition","bindMasonryEvents","self","on","css","height","resizeVideos","$videos","find","imageHeight","each","$image","length","remove","_$image$attr$split","attr","split","_$image$attr$split2","_slicedToArray","title","subtitle","undefined","text","jQueryInterface","fn","tilesGallery","behaviors","attach","context","once","jQuery"],"sourceRoot":""}